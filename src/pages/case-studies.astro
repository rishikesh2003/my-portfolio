---
// Get all case study files using Vite's glob import
const caseStudyModules = import.meta.glob('./case-studies/*.mdx');
const files = Object.keys(caseStudyModules).map(filePath => {
  const slug = filePath.split('/').pop()?.replace('.mdx', '') || '';
  return slug;
}).filter(Boolean);
---
<html lang="en">
  <head><title>Case Studies â€” Kyle Hancock</title></head>
  <body>
    <main class="mx-auto max-w-3xl px-6 py-12">
      <h1 class="text-3xl font-bold mb-6">Case Studies</h1>
      <ul class="space-y-4">
        {files.map(f => {
          const name = f.replace(/\.mdx$/, '');
          const href = `/case-studies/${name}`;
          return (<li><a class="underline" href={href}>{name}</a></li>);
        })}
      </ul>
    </main>
  </body>
</html>
